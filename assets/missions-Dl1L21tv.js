import{m as d,p as a,u as n}from"./index-C3hA8F6Q.js";const r=d("missions",{state:()=>({lastReset:a("rpg-last-reset",new Date().toISOString().split("T")[0]),dailies:a("rpg-dailies",{main:[],secondary:[],bonus:[]})}),actions:{checkDailyReset(){const e=new Date().toISOString().split("T")[0];this.lastReset!==e&&(this.resetDailies(),this.lastReset=e)},resetDailies(){["main","secondary","bonus"].forEach(e=>{this.dailies[e].forEach(i=>i.completed=!1)})},toggleMission(e,i){const t=n(),s=this.dailies[e].find(o=>o.id===i);s&&(s.completed?(s.completed=!1,t.removeCoins(s.reward)):(s.completed=!0,t.addCoins(s.reward)))},addMission(e,i,t){this.dailies[e].push({id:Date.now(),text:i,reward:t,completed:!1})},deleteMission(e,i){const t=this.dailies[e].findIndex(s=>s.id===i);t!==-1&&this.dailies[e].splice(t,1)}}});export{r as u};
